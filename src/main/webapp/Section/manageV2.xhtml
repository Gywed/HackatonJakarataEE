<!DOCTYPE html>

<html xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:p="http://primefaces.org/ui" 
  xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" xmlns:f = "http://java.sun.com/jsf/core">
<h:head>

<title>Sections</title>
<meta http-equiv="  Content-Type" content="text/html; charset=UTF-8"/>
</h:head>
<body>
	
	
	<style>
    .ui-filter-column .ui-column-customfilter .custom-filter 
    {
        width: 100%;
        box-sizing: border-box;
    }
	</style>

<div class="card">
 	<h1>Liste des sections</h1>
    <h:form>
        <p:dataTable var="section" value="#{sectionControl.doFindAll()}" widgetVar="sections"
                     emptyMessage="Aucune section n'a pu être trouvée avec les critères donnés"
                     filteredValue="#{dtFilterView.filteredCustomers3}"
                     globalFilterFunction="#{dtFilterView.globalFilterFunction}">

            <f:facet name="header">
                <div class="flex justify-content-end">
                    <p:inputText id="globalFilter" onkeyup="PF('customersTable3').filter()" style="width:300px"
                                 placeholder="mots-clés..." />
                </div>
            </f:facet>

            <p:column headerText="Nom" sortBy="#{section.nom}" >
                <span class="flag flag-#{customer.country.code}" style="width: 30px; height: 20px" />
                <h:outputText style="vertical-align: middle; margin-left: .5rem" value="#{section.nom}" />
            </p:column>

            <p:column field="departement" headerText="Département" filterable="false">
                <h:outputText style="vertical-align: middle; margin-left: .5rem" value="#{section.departement.nom}" />
            </p:column>
            
            <p:column>
			    <f:facet name="header">Modifier</f:facet>
			    <p:commandButton value="Modifier" action="#{sectionControl.goToUpdateSection(section)}" onclick="PF('updateDialog').show()" />
			</p:column>

        </p:dataTable>
    </h:form>
</div>
    
</body>
</html>